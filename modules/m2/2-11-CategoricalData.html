
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2.11 Categorical Data &#8212; Research Data Science</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.12 Image Data" href="2-12-ImageData.html" />
    <link rel="prev" title="2.10 Text data" href="2-10-TextData.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Research Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../index.html">
   Welcome to REG’s Introduction to Research Data Science
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Module 1: Introduction to Data Science
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/Lesson_1.1_What_is_data_science.html">
   Lesson 1.1: What is (research) data science?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/Lesson_1.2_Data_Science_project_lifecycle.html">
   Lesson 1.2: Research Data Science project lifecycle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/Lesson_1.3_EDI_for_data_science.html">
   Lesson 1.3: Equality, diversity and inclusion in data science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/Lesson_1.4_Collaboration_and_reproducibility.html">
   Lesson 1.4: Collaboration and reproducibility
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/hands-on.html">
   Hands-on
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Module 2: Handling data
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="overview.html">
   Module 2 - Handling data (WORK IN PROGRESS!)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-01-WhereToFindData.html">
   2.1 Where to find data?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-02-LegalityAndEthics.html">
   2.2 Legality and Ethics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-03-PandasIntro.html">
   2.3 Pandas intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-04-DataSourcesAndFormats.html">
   2.4 Data Sources and Formats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-05-ControllingAccess.html">
   2.5 Controlling access
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-06-DataConsistency.html">
   2.6 Data Consistency
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-07-ModifyingColumnsAndIndices.html">
   2.7 Modifying Columns and Indices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-08-TimeAndDateData.html">
   2.8 Time and Date Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-09-FeatureEngineering.html">
   2.9 Feature Engineering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-10-TextData.html">
   2.10 Text data
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2.11 Categorical Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-12-ImageData.html">
   2.12 Image Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-13-PrivacyAndAnonymisation.html">
   2.13 Privacy and Anonymisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-14-LinkingDatasets.html">
   2.14 Linking Datasets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-15-MissingData.html">
   2.15 Missing Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hands-on.html">
   Hands-on
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Module 3: Data Visualisation &amp; Exploration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.1-FiguresGoneWrong.html">
   Figures gone wrong
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.2-RulesOfTheGame.html">
   Rules of the data visualisation game
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.3-Atlas0fVisualisations.html">
   Atlas of Visualisations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.4-StoryTelling.html">
   Storytelling with data visualisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.5-DataVisForExploration.html">
   Visualisation for data exploration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/hands-on.html">
   Hands-on Session
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Module 4: Introduction to Modelling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/m4.1.html">
   The What and Why of Statistical Modelling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/m4.2.html">
   Fitting Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.3_Building_simple_model.html">
   4.3 Building a simple model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.4_Evaluating_a_model.html">
   4.4 Evaluating models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/summary.html">
   Summary
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/modules/m2/2-11-CategoricalData.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/alan-turing-institute/rds-course# Online location of your book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/alan-turing-institute/rds-course# Online location of your book/issues/new?title=Issue%20on%20page%20%2Fmodules/m2/2-11-CategoricalData.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/alan-turing-institute/rds-course# Online location of your book/book?urlpath=tree/coursebook/modules/m2/2-11-CategoricalData.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-categorical-data">
   What is Categorical Data?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#numerical-encodings-for-categorical-data">
   Numerical Encodings for Categorical Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#binary-data">
     Binary Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-with-multiple-categories">
     Data with Multiple Categories
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ordinal-data">
       Ordinal Data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#one-hot-encoding">
       One-Hot Encoding
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#grouping-categories">
       Grouping Categories
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#which-encoding-to-choose">
   Which Encoding to Choose?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-encoding-implementations">
   Other Encoding Implementations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unseen-values">
   Unseen Values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-dictionaries">
   Data Dictionaries
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="categorical-data">
<h1>2.11 Categorical Data<a class="headerlink" href="#categorical-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-categorical-data">
<h2>What is Categorical Data?<a class="headerlink" href="#what-is-categorical-data" title="Permalink to this headline">¶</a></h2>
<p>Categorical variables relate to data that is summarised in groups or has a limited set of possible values. Examples could be t-shirt size (small, medium, large, …), degree grade (first class, second class, …), or car manufacturer (BMW, Ford, Toyota, …).</p>
<p>In this section we will use the <a class="reference external" href="https://data.ny.gov/Human-Services/Patient-Characteristics-Survey-PCS-2017/8itk-gcdy">2017 Patient Characteristics Survey</a> (PCS) from New York state in the USA, which captures high-level information about the demographics and health of all people using a public mental health service in one week in 2017:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/pcs_2017.csv&quot;</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;UNKNOWN&quot;</span><span class="p">,</span> <span class="s2">&quot;NOT APPLICABLE&quot;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5000 entries, 0 to 4999
Data columns (total 32 columns):
 #   Column                            Non-Null Count  Dtype 
---  ------                            --------------  ----- 
 0   Program Category                  5000 non-null   object
 1   Region Served                     5000 non-null   object
 2   Age Group                         4999 non-null   object
 3   Sex                               4992 non-null   object
 4   Living Situation                  4764 non-null   object
 5   Household Composition             3886 non-null   object
 6   Preferred Language                4940 non-null   object
 7   Veteran Status                    4879 non-null   object
 8   Employment Status                 5000 non-null   object
 9   Number Of Hours Worked Each Week  789 non-null    object
 10  Education Status                  4546 non-null   object
 11  Special Education Services        871 non-null    object
 12  Mental Illness                    4955 non-null   object
 13  Intellectual Disability           4652 non-null   object
 14  Autism Spectrum                   4688 non-null   object
 15  Alcohol Related Disorder          4788 non-null   object
 16  Drug Substance Disorder           4792 non-null   object
 17  Mobility Impairment Disorder      4721 non-null   object
 18  Alzheimer or Dementia             4430 non-null   object
 19  Neurological Condition            4430 non-null   object
 20  Traumatic Brain Injury            4430 non-null   object
 21  Cancer                            4430 non-null   object
 22  Smokes                            4774 non-null   object
 23  Received Smoking Medication       4659 non-null   object
 24  Received Smoking Counseling       4650 non-null   object
 25  Serious Mental Illness            4962 non-null   object
 26  Principal Diagnosis Class         4796 non-null   object
 27  SSI Cash Assistance               4448 non-null   object
 28  SSDI Cash Assistance              4451 non-null   object
 29  Public Assistance Cash Program    4388 non-null   object
 30  Other Cash Benefits               4432 non-null   object
 31  Three Digit Residence Zip Code    5000 non-null   int64 
dtypes: int64(1), object(31)
memory usage: 1.2+ MB
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This dataset encodes missing information with the string “UNKNOWN” and unapplicable questions with the string “NOT APPLICABLE”. We’ve asked Pandas to treat these as NaN (null) values by passing them to the <code class="docutils literal notranslate"><span class="pre">na_values</span></code> argument.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The original source data has over 175,000 patients and more than 60 columns. We’re using a smaller subset of the data here for teaching purposes.</p>
</div>
<p>All of the columns in this dataset, apart from the three digit Zip code, are categorical:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Program Category</th>
      <th>Region Served</th>
      <th>Age Group</th>
      <th>Sex</th>
      <th>Living Situation</th>
      <th>Household Composition</th>
      <th>Preferred Language</th>
      <th>Veteran Status</th>
      <th>Employment Status</th>
      <th>Number Of Hours Worked Each Week</th>
      <th>...</th>
      <th>Smokes</th>
      <th>Received Smoking Medication</th>
      <th>Received Smoking Counseling</th>
      <th>Serious Mental Illness</th>
      <th>Principal Diagnosis Class</th>
      <th>SSI Cash Assistance</th>
      <th>SSDI Cash Assistance</th>
      <th>Public Assistance Cash Program</th>
      <th>Other Cash Benefits</th>
      <th>Three Digit Residence Zip Code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>INPATIENT</td>
      <td>HUDSON RIVER REGION</td>
      <td>ADULT</td>
      <td>FEMALE</td>
      <td>INSTITUTIONAL SETTING</td>
      <td>NaN</td>
      <td>ENGLISH</td>
      <td>NO</td>
      <td>NOT IN LABOR FORCE:UNEMPLOYED AND NOT LOOKING ...</td>
      <td>NaN</td>
      <td>...</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>MENTAL ILLNESS</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>105</td>
    </tr>
    <tr>
      <th>1</th>
      <td>SUPPORT</td>
      <td>WESTERN REGION</td>
      <td>CHILD</td>
      <td>MALE</td>
      <td>PRIVATE RESIDENCE</td>
      <td>COHABITATES WITH OTHERS</td>
      <td>ENGLISH</td>
      <td>NO</td>
      <td>NOT IN LABOR FORCE:UNEMPLOYED AND NOT LOOKING ...</td>
      <td>NaN</td>
      <td>...</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>MENTAL ILLNESS</td>
      <td>YES</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>138</td>
    </tr>
    <tr>
      <th>2</th>
      <td>OUTPATIENT</td>
      <td>WESTERN REGION</td>
      <td>CHILD</td>
      <td>FEMALE</td>
      <td>PRIVATE RESIDENCE</td>
      <td>COHABITATES WITH OTHERS</td>
      <td>ENGLISH</td>
      <td>NO</td>
      <td>NOT IN LABOR FORCE:UNEMPLOYED AND NOT LOOKING ...</td>
      <td>NaN</td>
      <td>...</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>MENTAL ILLNESS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>140</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OUTPATIENT</td>
      <td>NEW YORK CITY REGION</td>
      <td>CHILD</td>
      <td>FEMALE</td>
      <td>PRIVATE RESIDENCE</td>
      <td>COHABITATES WITH OTHERS</td>
      <td>ENGLISH</td>
      <td>NO</td>
      <td>NOT IN LABOR FORCE:UNEMPLOYED AND NOT LOOKING ...</td>
      <td>NaN</td>
      <td>...</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>NaN</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>113</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OUTPATIENT</td>
      <td>LONG ISLAND REGION</td>
      <td>CHILD</td>
      <td>FEMALE</td>
      <td>PRIVATE RESIDENCE</td>
      <td>COHABITATES WITH OTHERS</td>
      <td>ENGLISH</td>
      <td>NO</td>
      <td>NOT IN LABOR FORCE:UNEMPLOYED AND NOT LOOKING ...</td>
      <td>NaN</td>
      <td>...</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>MENTAL ILLNESS</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>115</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 32 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="numerical-encodings-for-categorical-data">
<h2>Numerical Encodings for Categorical Data<a class="headerlink" href="#numerical-encodings-for-categorical-data" title="Permalink to this headline">¶</a></h2>
<p>Typically it’s not possible to input strings representing categories directly into a machine learning algorithm or other analysis, so they must be transformed into a numerical form first. This also applies if we have coded categories  (such as ID numbers) in the data - blindly feeding these into an algorithm can have unexpected results. Below we describe common ways of encoding categorical data into numeric forms.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Here we are talking encoding data with a <em>countable</em> number of categories. For data without a set of pre-defined options, like free text fields, it’s more appropriate to use other feature engineering techniques (such as those from Natural Language Processing - see previous section).</p>
</div>
<div class="section" id="binary-data">
<h3>Binary Data<a class="headerlink" href="#binary-data" title="Permalink to this headline">¶</a></h3>
<p>A lot of the columns in this dataset have only two possible values, such as “Yes/No” questions like whether a patient smokes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Smokes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NO     3387
YES    1387
Name: Smokes, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>In this case it’s natural to encode “NO” as 0 and “YES” as 1:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yesno_encoding</span> <span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;YES&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;NO&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Smokes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Smokes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">yesno_encoding</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Smokes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0    3387
1.0    1387
Name: Smokes, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s also possible to replace YES/NO values in multiple columns at a time, e.g. with df[[“Smokes”,  “Cancer”]].replace(yesno_encoding), or in the whole data frame with df.replace(yesno_encoding).</p>
</div>
<p>This can be applied to any data with only two possible values, a coin flip dataset with a column <code class="docutils literal notranslate"><span class="pre">side</span> <span class="pre">=</span> <span class="pre">[&quot;Heads&quot;,</span> <span class="pre">&quot;Tails&quot;,</span> <span class="pre">&quot;Heads&quot;]</span></code> could be encoded as a single column <code class="docutils literal notranslate"><span class="pre">heads</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">0,</span> <span class="pre">1]</span></code>, for example.</p>
</div>
<div class="section" id="data-with-multiple-categories">
<h3>Data with Multiple Categories<a class="headerlink" href="#data-with-multiple-categories" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ordinal-data">
<h4>Ordinal Data<a class="headerlink" href="#ordinal-data" title="Permalink to this headline">¶</a></h4>
<p>When the categories have a natural order (we could sort them), for example the number of hours worked per week in this dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Number Of Hours Worked Each Week&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>35 HOURS OR MORE            309
15-34 HOURS                 251
01-14 HOURS                 119
UNKNOWN EMPLOYMENT HOURS    110
Name: Number Of Hours Worked Each Week, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>This is essentially binned data (see feature engineering section) - the source data is numeric but we have it summarised in groups due to the design of the survey. It’s also common to see this for privacy/anonymisation reasons in public versions of sensitive datasets.</p>
<p>One approach here is to encode the data using the mid-point of each group:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hours_encoding</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;01-14 HOURS&quot;</span><span class="p">:</span> <span class="mf">7.5</span><span class="p">,</span>
    <span class="s2">&quot;15-34 HOURS&quot;</span><span class="p">:</span> <span class="mf">24.5</span><span class="p">,</span>
    <span class="s2">&quot;35 HOURS OR MORE&quot;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
    <span class="s2">&quot;UNKNOWN EMPLOYMENT HOURS&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Number Of Hours Worked Each Week&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Number Of Hours Worked Each Week&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
    <span class="n">hours_encoding</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-discussion admonition">
<p class="admonition-title">Discussion</p>
<p>How could you decide what value to use for the “35 HOURS OR MORE” group? Is 35 likely to be a good choice?</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We could use techniques for manipulating strings, like those seen in the previous section, to extract the digits and calculate the mid-points rather than doing it manually.</p>
</div>
<p>Alternatively, we can have ordinal data that was not numeric to start with, such as the “Education Status” column in this dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Education Status&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MIDDLE SCHOOL TO HIGH SCHOOL    2585
SOME COLLEGE                     737
COLLEGE OR GRADUATE DEGREE       699
PRE-K TO FIFTH GRADE             433
OTHER                             68
NO FORMAL EDUCATION               24
Name: Education Status, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Here a sensible choice could be to encode the values by a ranking of how long the person was in education:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edu_encoding</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;NO FORMAL EDUCATION&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;PRE-K TO FIFTH GRADE&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;MIDDLE SCHOOL TO HIGH SCHOOL&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;SOME COLLEGE&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;COLLEGE OR GRADUATE DEGREE&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;OTHER&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Education Status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Education Status&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">edu_encoding</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="one-hot-encoding">
<h4>One-Hot Encoding<a class="headerlink" href="#one-hot-encoding" title="Permalink to this headline">¶</a></h4>
<p>What if the categories don’t have a clear order? One example is “Region Served” in the patient characteristics survey:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Region Served&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NEW YORK CITY REGION    2486
WESTERN REGION           847
HUDSON RIVER REGION      775
CENTRAL NY REGION        534
LONG ISLAND REGION       358
Name: Region Served, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>If we assigned each region a number from 1-5, an algorithm could try to infer relationships that don’t exist. For example, we may encode <code class="docutils literal notranslate"><span class="pre">WESTERN_REGION</span> <span class="pre">=</span> <span class="pre">2</span></code> and <code class="docutils literal notranslate"><span class="pre">CENTRAL</span> <span class="pre">NY</span> <span class="pre">REGION</span> <span class="pre">=</span> <span class="pre">4</span></code>, but this means we’re representing Central NY as “double” Western NY - double what?</p>
<p>Instead, a common choice is to “one-hot” encode the column, converting it into a binary column for each category. This is also referred to as creating “dummy variables”, and can be done with the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.get_dummies.html"><code class="docutils literal notranslate"><span class="pre">pd.get_dummies</span></code></a> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Region Served&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CENTRAL NY REGION</th>
      <th>HUDSON RIVER REGION</th>
      <th>LONG ISLAND REGION</th>
      <th>NEW YORK CITY REGION</th>
      <th>WESTERN REGION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4995</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4996</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4997</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4998</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4999</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5000 rows × 5 columns</p>
</div></div></div>
</div>
<p>The first patient was from the Hudson river region, so has one in the “HUDSON RIVER REGION” column and zero in the remaining columns, and so on. Treating the data this way allows a model to separately fit parameters explaining the relationship between each region and whatever we’re trying to predict.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically we only need four of the five columns above to represent the possible region values. If we didn’t include the “WESTERN REGION” column above, for example, we could still tell whether someone had care in that region by all the remaining columns being zero. Setting <code class="docutils literal notranslate"><span class="pre">drop_first=False</span></code> in <code class="docutils literal notranslate"><span class="pre">pd.get_dummies</span></code> will return one fewer column.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases creating many new columns with one-hot encoding could be problematic. <a class="reference external" href="https://machinelearningmastery.com/how-to-handle-big-p-little-n-p-n-in-machine-learning/">This blog post</a> gives an overview of when this might be a problem and possible solutions.</p>
</div>
</div>
<div class="section" id="grouping-categories">
<h4>Grouping Categories<a class="headerlink" href="#grouping-categories" title="Permalink to this headline">¶</a></h4>
<p>Rather than creating many new columns for all the possible categories, it may be appropriate to summarise them in sub-groups. For example, these are the categories in the “Preferred Language” column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Preferred Language&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ENGLISH                     4459
SPANISH                      359
INDO-EUROPEAN                 55
ASIAN AND PACIFIC ISLAND      27
ALL OTHER LANGUAGES           26
AFRO-ASIATIC                  14
Name: Preferred Language, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>If our research question related to finding differences between the care given to English and non-English speakers, we could encode the data as a single binary column (but you should consider this choice carefully, as we would not be able to identify differences between the other languages with this encoding):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefer_english</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Preferred Language&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ENGLISH&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">prefer_english</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1    4459
0     541
Name: Preferred Language, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The use of <code class="docutils literal notranslate"><span class="pre">astype(int)</span></code> above converts the created boolean series of True/False values to a series of ones (True) and zeros (False), which may be more suitable for input to a model.</p>
</div>
<p>Any value that is not “ENGLISH”, <em>including</em> missing values, will be encoded as 0 above, i.e. 0 means “unknown or not English”. It may be better to restore the missing values to avoid mislabelling unknown English speakers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefer_english</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Preferred Language&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="which-encoding-to-choose">
<h2>Which Encoding to Choose?<a class="headerlink" href="#which-encoding-to-choose" title="Permalink to this headline">¶</a></h2>
<p>The encodings described above are the most common, but there are others and there’s also no fixed rule that you must you a certain type of encoding for a certain type of data. There may be applications where one-hot encoding an ordinal column would be appropriate, for example.</p>
</div>
<div class="section" id="other-encoding-implementations">
<h2>Other Encoding Implementations<a class="headerlink" href="#other-encoding-implementations" title="Permalink to this headline">¶</a></h2>
<p>In the examples above we mostly convert the categorical values by defining Python dictionaries with the encodings and using the Pandas <code class="docutils literal notranslate"><span class="pre">replace</span></code> function. This works but there are other functions and libraries which can help do the job (and may be more maintainable and scalable depending on your use-case):</p>
<ul class="simple">
<li><p>Pandas has a categorical data type, see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html">here</a>.</p></li>
<li><p>The <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html#sklearn.preprocessing.LabelEncoder"><code class="docutils literal notranslate"><span class="pre">LabelEncoder</span></code></a>, <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html#sklearn.preprocessing.OrdinalEncoder"><code class="docutils literal notranslate"><span class="pre">OrdinalEncoder</span></code></a> and <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OneHotEncoder.html#sklearn.preprocessing.OneHotEncoder"><code class="docutils literal notranslate"><span class="pre">OneHotEncoder</span></code></a> classes in the <a class="reference external" href="https://scikit-learn.org/stable/index.html"><code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code></a> library.</p></li>
<li><p>Some machine learning algorithms, such as <a class="reference external" href="https://catboost.ai/en/docs/features/categorical-features">CatBoost</a>, have in-built support for categorical data.</p></li>
</ul>
</div>
<div class="section" id="unseen-values">
<h2>Unseen Values<a class="headerlink" href="#unseen-values" title="Permalink to this headline">¶</a></h2>
<p>If you’re developing a model with categorical data it’s important to consider what to do, or how the model will behave, with data from new groups not present in the original dataset. Say you plan to use a model developed on the 2017 PCS data on new data from 2019, but a new region in New York has been added. How will patients from that region be treated by the model?</p>
<p>This is essentially a different form of missing data (in this case data the model doesn’t know how to interpret), which we discuss later.</p>
</div>
<div class="section" id="data-dictionaries">
<h2>Data Dictionaries<a class="headerlink" href="#data-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>We’ve talked about converting a dataset of strings into numerical representations that can be incorporated into a model or other further analysis. It’s also common to be given a dataset that has coded values (numbers or other identifiers) to start with. For example, what if we started with data where <code class="docutils literal notranslate"><span class="pre">Education</span> <span class="pre">Status</span></code> was encoded as values 1 to 5. How would we know what 3 means?</p>
<p>Datasets <em>should</em> come with “data dictionaries” that explain what these values mean. You could change the encoded values to their meanings by defining them in a Python dictionary  and using <code class="docutils literal notranslate"><span class="pre">replace</span></code> in the same way as above. Or, you may need to link to another table or dataset - see the linking datasets section.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "alan-turing-institute/rds-course# Online location of your book",
            ref: "book",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./modules/m2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="2-10-TextData.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">2.10 Text data</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="2-12-ImageData.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">2.12 Image Data</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Research Engineering Group, The Alan Turing Institute<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>