
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2.2.1 Data Consistency &#8212; Research Data Science</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2.2 Modifying Columns and Indices" href="2-02-02-ModifyingColumnsAndIndices.html" />
    <link rel="prev" title="2.2 Exploring and Wrangling Data" href="2-02-ExploringWrangling.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Research Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../index.html">
   Welcome to The Alan Turing Institute’s Introduction to Research Data Science course
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Module 1: Introduction to Data Science
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/1.1-WhatIsDataScience.html">
   1.1 What is (research) data science?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/1.2-DataScienceProjectLifecycle.html">
   1.2 Research Data Science project lifecycle
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/1.3-EDIForDataScience.html">
   1.3 Equality, diversity and inclusion in data science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/1.4-CollaborationAndReproducibility.html">
   1.4 Collaboration and reproducibility
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m1/hands-on.html">
   Module 1: Hands-on session
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Module 2: Handling data
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2-overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="2-01-GettingLoading.html">
   2.1 Getting and Loading Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="2-01-01-WhereToFindData.html">
     2.1.1 Where to find data?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-01-02-LegalityAndEthics.html">
     2.1.2 Legality and Ethics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-01-03-PandasIntro.html">
     2.1.3 Pandas intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-01-04-DataSourcesAndFormats.html">
     2.1.4 Data Sources and Formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-01-05-ControllingAccess.html">
     2.1.5 Controlling access
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="2-02-ExploringWrangling.html">
   2.2 Exploring and Wrangling Data
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     2.2.1 Data Consistency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-02-02-ModifyingColumnsAndIndices.html">
     2.2.2 Modifying Columns and Indices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-02-03-FeatureEngineering.html">
     2.2.3 Feature Engineering
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="2-02-04-DataManipulation.html">
     2.2.4 Data Manipulation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="2-02-04-01-TimeAndDateData.html">
       2.2.4.1 Time and Date Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="2-02-04-02-TextData.html">
       2.2.4.2 Text data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="2-02-04-03-CategoricalData.html">
       2.2.4.3 Categorical Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="2-02-04-04-ImageData.html">
       2.2.4.4 Image Data
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-02-05-PrivacyAndAnonymisation.html">
     2.2.5 Privacy and Anonymisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-02-06-LinkingDatasets.html">
     2.2.6 Linking Datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2-02-07-MissingData.html">
     2.2.7 Missing Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-hands-on.html">
   Module 2: Hands-on session
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Module 3: Data Visualisation &amp; Exploration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.1-FiguresGoneWrong.html">
   3.1 Figures gone wrong
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.2-RulesOfTheGame.html">
   3.2 Rules of the data visualisation game
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.3-Atlas0fVisualisations.html">
   3.3 Atlas of Visualisations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.4-StoryTelling.html">
   3.4 Storytelling with data visualisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/3.5-DataVisForExploration.html">
   3.5 Walkthrough: visualisation for data exploration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m3/hands-on.html">
   Module 3 hands-on session
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Module 4: Introduction to Modelling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.1_What_and_Why.html">
   4.1 The What and Why of Statistical Modelling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.2_Fitting_Models.html">
   4.2 Fitting (Regression) Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.3_Building_simple_model.html">
   4.3 Building a simple model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/4.4_Evaluating_a_model.html">
   4.4 Evaluating models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../m4/hands-on.html">
   Module 4 hands-on session
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/modules/m2/2-02-01-DataConsistency.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/alan-turing-institute/rds-course# Online location of your book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/alan-turing-institute/rds-course# Online location of your book/issues/new?title=Issue%20on%20page%20%2Fmodules/m2/2-02-01-DataConsistency.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/alan-turing-institute/rds-course# Online location of your book/book?urlpath=tree/coursebook/modules/m2/2-02-01-DataConsistency.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#domain-knowledge">
   Domain Knowledge
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#having-a-first-look-at-the-data">
   Having a First Look at the Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#null-values">
   Null Values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unexpected-column-types">
   Unexpected Column Types
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sanity-checking-values">
   Sanity Checking Values
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#numeric-columns">
     Numeric Columns
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#text-and-categorical-columns">
     Text and Categorical Columns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#duplicate-data">
   Duplicate Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#displaying-data-frames-with-style">
   Displaying Data Frames with Style 😎
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="data-consistency">
<h1>2.2.1 Data Consistency<a class="headerlink" href="#data-consistency" title="Permalink to this headline">¶</a></h1>
<p>In section 4 we saw how to load data of different types into pandas. In this section we’ll look at first steps you can perform to look at the data, understand what it contains, and a few common issues that may come up with data consistency like missing or mis-interpreted values.</p>
<div class="section" id="domain-knowledge">
<h2>Domain Knowledge<a class="headerlink" href="#domain-knowledge" title="Permalink to this headline">¶</a></h2>
<p>Before jumping into looking at and analysing the data you should check any information you’ve been given about it, so you know what to expect. In this section we’ll be using the Iris dataset, a well-known example dataset for machine learning available from the <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/iris">UCI Machine Learning repository</a> (and well-known enough to have its own <a class="reference external" href="https://en.wikipedia.org/wiki/Iris_flower_data_set">Wikipedia page</a>!)</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We’ve made a few changes to the data from the UCI repository to demonstrate the concepts we’re teaching.</p>
</div>
</div>
<p>The Iris dataset was first published in 1936 by Ronald Fisher in the paper <a class="reference external" href="https://doi.org/10.1111/j.1469-1809.1936.tb02137.x">“The use of multiple measurements in taxonomic problems”</a>. It includes measurements of the petal and sepal sizes (length and width) of three species of Iris flowers. The <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/iris">UCI repository page</a> contains more information about the columns and data types we expect. To reiterate, it’s always important to check the documentation and associated literature first.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p><img alt="Iris.jpg" src="../../_images/Iris.jpg" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p><em><a class="reference external" href="https://commons.wikimedia.org/wiki/File:Northe">Ryan Hodnett, “Northern Blue Flag (Iris versicolor)”, 2019</a>. <a class="reference external" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">CC-BY-SA 4.0</a>. Labels added.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="having-a-first-look-at-the-data">
<h2>Having a First Look at the Data<a class="headerlink" href="#having-a-first-look-at-the-data" title="Permalink to this headline">¶</a></h2>
<p>The dataset is saved in <code class="docutils literal notranslate"><span class="pre">data/Iris.csv</span></code> and we can load it with <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html?highlight=read_csv#pandas.read_csv"><code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code></a>, as seen previously:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/Iris.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Display the first few ten rows of the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
      <th>Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>25</td>
      <td>4.8</td>
      <td>3.4</td>
      <td>1.9</td>
      <td>0.2</td>
      <td>Iris-setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>24</td>
      <td>5.1</td>
      <td>3.3</td>
      <td>1.7</td>
      <td>0.5</td>
      <td>Iris-setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>139</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>4.8</td>
      <td>1.8</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>3</th>
      <td>88</td>
      <td>6.3</td>
      <td>2.3</td>
      <td>4.4</td>
      <td>1.3</td>
      <td>Iris-versicolor</td>
    </tr>
    <tr>
      <th>4</th>
      <td>135</td>
      <td>6.1</td>
      <td>2.6</td>
      <td>5.6</td>
      <td>1.4</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>5</th>
      <td>87</td>
      <td>6.7</td>
      <td>3.1</td>
      <td>4.7</td>
      <td>1.5</td>
      <td>Iris-versicolor</td>
    </tr>
    <tr>
      <th>6</th>
      <td>89</td>
      <td>5.6</td>
      <td>3.0</td>
      <td>4.1</td>
      <td>1.3</td>
      <td>Iris-versicolor</td>
    </tr>
    <tr>
      <th>7</th>
      <td>143</td>
      <td>5.8</td>
      <td>2.7</td>
      <td>5.1</td>
      <td>1.9</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>8</th>
      <td>117</td>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.5</td>
      <td>1.8</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>9</th>
      <td>109</td>
      <td>6.7</td>
      <td>2.5</td>
      <td>5.8</td>
      <td>1.8</td>
      <td>Iris-virginica</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We could also look at the last few rows of the data with <code class="docutils literal notranslate"><span class="pre">df.tail()</span></code>, or a random sample of rows with <code class="docutils literal notranslate"><span class="pre">df.sample()</span></code>.</p>
<p>To check the number of rows and columns we can use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(157, 6)
</pre></div>
</div>
</div>
</div>
<p>Our data has 157 rows and 6 columns. It might also be useful to look at the column names (especially for larger datasets with many columns where they may not all be displayed by <code class="docutils literal notranslate"><span class="pre">df.head()</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Id&#39;, &#39;SepalLengthCm&#39;, &#39;SepalWidthCm&#39;, &#39;PetalLengthCm&#39;, &#39;PetalWidthCm&#39;,
       &#39;Species&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>A useful command that summarises much of this information is <code class="docutils literal notranslate"><span class="pre">df.info()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 157 entries, 0 to 156
Data columns (total 6 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   Id             157 non-null    int64  
 1   SepalLengthCm  157 non-null    float64
 2   SepalWidthCm   157 non-null    object 
 3   PetalLengthCm  157 non-null    float64
 4   PetalWidthCm   155 non-null    float64
 5   Species        157 non-null    object 
dtypes: float64(3), int64(1), object(2)
memory usage: 7.5+ KB
</pre></div>
</div>
</div>
</div>
<p>This gives us the number of rows (entries) and columns at the top, and then a table with the name, number of non-null values, and data type of each column. Finally, it gives the amount of memory the data frame is using. Pandas can use a lot of memory, which may cause problems when analysing large datasets. The <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/scale.html">Scaling to large datasets</a> page in the Pandas documentation gives pointers for what you can try in that case.</p>
</div>
<div class="section" id="null-values">
<h2>Null Values<a class="headerlink" href="#null-values" title="Permalink to this headline">¶</a></h2>
<p>The data frame info shows we have 157 “non-null” values in all the columns except <code class="docutils literal notranslate"><span class="pre">PetalWidthCm</span></code>, where there are 155. There are 157 rows in our data, so that means there are 2 “null” values in the <code class="docutils literal notranslate"><span class="pre">PetalWidthCm</span></code> column.</p>
<p>“Null values” is Pandas’ way of describing data that is missing. Under the hood, these are encoded as NumPy’s NaN (not a number) constant (see <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan">here</a>), which has type <code class="docutils literal notranslate"><span class="pre">float64</span></code> so numeric columns with NaN values still have a numeric type and can have numeric operations applied to them.</p>
<p>To find missing values in a column we can use the <code class="docutils literal notranslate"><span class="pre">isnull()</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_missing</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;PetalWidthCm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">is_missing</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      False
1      False
2      False
3      False
4      False
       ...  
152    False
153    False
154    False
155    False
156    False
Name: PetalWidthCm, Length: 157, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>This returns a boolean series which is True if that row’s value is NaN, which can then be used to filter the data frame and show only the rows with missing data in the <code class="docutils literal notranslate"><span class="pre">PetalWidthCm</span></code> column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">is_missing</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
      <th>Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>92</th>
      <td>156</td>
      <td>6.6</td>
      <td>3.0</td>
      <td>4.8</td>
      <td>NaN</td>
      <td>Iris-versicolor</td>
    </tr>
    <tr>
      <th>145</th>
      <td>155</td>
      <td>5.0</td>
      <td>3.9</td>
      <td>1.5</td>
      <td>NaN</td>
      <td>Iris-setosa</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There are many reasons data could be missing and how you choose to deal with them is an important part of any research project. We’ll revisit this later.</p>
</div>
<div class="section" id="unexpected-column-types">
<h2>Unexpected Column Types<a class="headerlink" href="#unexpected-column-types" title="Permalink to this headline">¶</a></h2>
<p>Looking at the first few rows of our data (the output of <code class="docutils literal notranslate"><span class="pre">df.head()</span></code> above) it looks like we expect the <code class="docutils literal notranslate"><span class="pre">Id</span></code>, <code class="docutils literal notranslate"><span class="pre">SepalLengthCm</span></code>, <code class="docutils literal notranslate"><span class="pre">SepalWidthCm</span></code>, <code class="docutils literal notranslate"><span class="pre">PetalLengthCm</span></code> and <code class="docutils literal notranslate"><span class="pre">PetalWidthCm</span></code> columns to have a numeric type. Comparing with the output of <code class="docutils literal notranslate"><span class="pre">df.info()</span></code> above most of them do, having a dtype (data type) of either <code class="docutils literal notranslate"><span class="pre">int64</span></code> or <code class="docutils literal notranslate"><span class="pre">float64</span></code>.</p>
<p>However, the <code class="docutils literal notranslate"><span class="pre">SepalWidthCm</span></code> column has a dtype of <code class="docutils literal notranslate"><span class="pre">object</span></code>, which usually means the column is being treated as strings/text data. This will generally  be because there is at least one row in the column that Pandas was not able to parse as a number. Common reasons this might happen include:</p>
<ul class="simple">
<li><p>Data entry errors and typos, for example “23/15” instead of “23.15”.</p></li>
<li><p>Encoding of missing values: The <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> function checks for common string representations of missing values like “NA” or “NULL” and converts these to <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code> when loading the data. But many different conventions for missing data exist, such as more verbose representations like “UNKNOWN”, and Pandas will load these as strings by default. This can be customised with the <code class="docutils literal notranslate"><span class="pre">na_values</span></code> parameter of <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html"><code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code></a>.</p></li>
<li><p>Additional metadata incorrectly loaded into the data frame, such as CSV files with headers and footers (as seen in the Data Sources Formats section previously).</p></li>
</ul>
<p>To see what’s wrong with the <code class="docutils literal notranslate"><span class="pre">SepalWidthCm</span></code> column we can try to convert it to a numeric type with the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_numeric.html"><code class="docutils literal notranslate"><span class="pre">pd.to_numeric</span></code></a> function:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="nn">/opt/hostedtoolcache/Python/3.9.8/x64/lib/python3.9/site-packages/pandas/_libs/lib.pyx</span> in <span class="ni">pandas._libs.lib.maybe_convert_numeric</span><span class="nt">()</span>

<span class="ne">ValueError</span>: Unable to parse string &quot;3,1&quot;

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_2007</span><span class="o">/</span><span class="mf">1842675192.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">])</span>

<span class="nn">/opt/hostedtoolcache/Python/3.9.8/x64/lib/python3.9/site-packages/pandas/core/tools/numeric.py</span> in <span class="ni">to_numeric</span><span class="nt">(arg, errors, downcast)</span>
<span class="nn">    181         coerce_numeric = errors not</span> in <span class="nt">(&quot;ignore&quot;, &quot;raise&quot;)</span>
<span class="g g-Whitespace">    </span><span class="mi">182</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">183</span>             <span class="n">values</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">maybe_convert_numeric</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">184</span>                 <span class="n">values</span><span class="p">,</span> <span class="nb">set</span><span class="p">(),</span> <span class="n">coerce_numeric</span><span class="o">=</span><span class="n">coerce_numeric</span>
<span class="g g-Whitespace">    </span><span class="mi">185</span>             <span class="p">)</span>

<span class="nn">/opt/hostedtoolcache/Python/3.9.8/x64/lib/python3.9/site-packages/pandas/_libs/lib.pyx</span> in <span class="ni">pandas._libs.lib.maybe_convert_numeric</span><span class="nt">()</span>

<span class="ne">ValueError</span>: Unable to parse string &quot;3,1&quot; at position 51
</pre></div>
</div>
</div>
</div>
<p>The error above tells us Pandas has encountered a value “3,1”, which it doesn’t know how to convert into a number. It also says the problem is at index 51, which we can access ourselves to check the value directly:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3,1&#39;
</pre></div>
</div>
</div>
</div>
<p>In this case it looks like a typo, the person entering the data probably meant to write <code class="docutils literal notranslate"><span class="pre">3.1</span></code>, but we should check this first. There may be information in the data documentation, or you could ask the data provider. It’s possible that this should actually be treated as two measurements (3 and 1), for example.</p>
<p>Let’s say we’re confident it is a typo. We can fix it ourselves and then convert the column to a numeric type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the incorrectly typed number to its intended value</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.1</span>
<span class="c1"># convert the column to a numeric type</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">])</span>

<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 157 entries, 0 to 156
Data columns (total 6 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   Id             157 non-null    int64  
 1   SepalLengthCm  157 non-null    float64
 2   SepalWidthCm   157 non-null    float64
 3   PetalLengthCm  157 non-null    float64
 4   PetalWidthCm   155 non-null    float64
 5   Species        157 non-null    object 
dtypes: float64(4), int64(1), object(1)
memory usage: 7.5+ KB
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">SepalWidthCm</span></code> now has type <code class="docutils literal notranslate"><span class="pre">float64</span></code> as we originally expected.</p>
<p>This was a simple example with just one strange value - we’ll see more approaches for handling and sanitising strings later.</p>
</div>
<div class="section" id="sanity-checking-values">
<h2>Sanity Checking Values<a class="headerlink" href="#sanity-checking-values" title="Permalink to this headline">¶</a></h2>
<div class="section" id="numeric-columns">
<h3>Numeric Columns<a class="headerlink" href="#numeric-columns" title="Permalink to this headline">¶</a></h3>
<p>The pandas <code class="docutils literal notranslate"><span class="pre">describe()</span></code> function gives summary statistics for the numeric columns in our data (the mean, standard deviation, minimum and maximum value, and quartiles for each column):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>157.000000</td>
      <td>157.000000</td>
      <td>157.000000</td>
      <td>157.000000</td>
      <td>155.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>78.337580</td>
      <td>5.180255</td>
      <td>3.060510</td>
      <td>3.988535</td>
      <td>1.229032</td>
    </tr>
    <tr>
      <th>std</th>
      <td>45.078358</td>
      <td>8.408104</td>
      <td>0.430229</td>
      <td>3.383007</td>
      <td>0.820355</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>-99.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>0.100000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>40.000000</td>
      <td>5.100000</td>
      <td>2.800000</td>
      <td>1.600000</td>
      <td>0.300000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>78.000000</td>
      <td>5.800000</td>
      <td>3.000000</td>
      <td>4.400000</td>
      <td>1.300000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>117.000000</td>
      <td>6.400000</td>
      <td>3.300000</td>
      <td>5.100000</td>
      <td>1.800000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>156.000000</td>
      <td>7.900000</td>
      <td>4.400000</td>
      <td>40.000000</td>
      <td>5.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Even though <code class="docutils literal notranslate"><span class="pre">PetalWidthCm</span></code> has missing (NaN) values, Pandas is able to compute statistics for that column. When calculating these Pandas will ignore all NaN values by default. To change this behaviour, some functions have a <code class="docutils literal notranslate"><span class="pre">skipna</span></code> argument, for example <code class="docutils literal notranslate"><span class="pre">df[&quot;PetalWidthCm&quot;].mean(skipna=False)</span></code> will return NaN if there are <em>any</em> NaN values in the column.</p>
<p>You should think carefully about which approach is more suitable for your data (for example, if a column only has a few non-null values will the mean be representative?)</p>
</div>
<p>Looking at these values gives us a better idea of what our data contains, but also allows us to perform some sanity checks. For example, do the minimum and maximum values in each column make sense given what we know about the dataset?</p>
<p>There are two things that might standout. First, the <code class="docutils literal notranslate"><span class="pre">SepalLengthCm</span></code> column has a minimum value of -99, but all the other values in the data are positive as we’d expect for measurements of lengths and widths. In some datasets missing data is represented with negative values (but this may not always be the case so, as always, make sure to check what they mean in any data you’re using).</p>
<p>If we’re sure <code class="docutils literal notranslate"><span class="pre">-99</span></code> is meant to be a missing value, we can replace those with <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code> so Pandas will treat them correctly:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">-</span><span class="mi">99</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>With these values replaced, the “actual” minimum value of <code class="docutils literal notranslate"><span class="pre">SepalLengthCm</span></code> is 4.3 cm:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SepalLengthCm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.3
</pre></div>
</div>
</div>
</div>
<p>The second thing that stands out is the maximum value of 40 cm in <code class="docutils literal notranslate"><span class="pre">PetalLengthCm</span></code>, which looks far larger than the other values (e.g., the 75% quartile of <code class="docutils literal notranslate"><span class="pre">PetalLengthCm</span></code> is only 5.1 cm). A flower with 40 cm petals would be a sight to see! Excluding the 40 cm value the largest petal length is only 6.9 cm:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># True for each row in PetalLengthCm less than the max value of 40 cm</span>
<span class="n">smaller_petals</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;PetalLengthCm&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;PetalLengthCm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="c1"># Maximum petal length out of all rows with lengths below 40 cm</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">smaller_petals</span><span class="p">,</span> <span class="s2">&quot;PetalLengthCm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6.9
</pre></div>
</div>
</div>
</div>
<p>Another way to see this would be to sort the data frame by petal length using the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_values.html"><code class="docutils literal notranslate"><span class="pre">sort_values</span></code></a> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;PetalLengthCm&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
      <th>Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>86</th>
      <td>136</td>
      <td>7.7</td>
      <td>3.0</td>
      <td>6.1</td>
      <td>2.3</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>37</th>
      <td>131</td>
      <td>7.4</td>
      <td>2.8</td>
      <td>6.1</td>
      <td>1.9</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>156</th>
      <td>110</td>
      <td>7.2</td>
      <td>3.6</td>
      <td>6.1</td>
      <td>2.5</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>87</th>
      <td>108</td>
      <td>7.3</td>
      <td>2.9</td>
      <td>6.3</td>
      <td>1.8</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>60</th>
      <td>132</td>
      <td>7.9</td>
      <td>3.8</td>
      <td>6.4</td>
      <td>2.0</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>128</th>
      <td>106</td>
      <td>7.6</td>
      <td>3.0</td>
      <td>6.6</td>
      <td>2.1</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>116</th>
      <td>123</td>
      <td>7.7</td>
      <td>2.8</td>
      <td>6.7</td>
      <td>2.0</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>108</th>
      <td>118</td>
      <td>7.7</td>
      <td>3.8</td>
      <td>6.7</td>
      <td>2.2</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>120</th>
      <td>119</td>
      <td>7.7</td>
      <td>2.6</td>
      <td>6.9</td>
      <td>2.3</td>
      <td>Iris-virginica</td>
    </tr>
    <tr>
      <th>131</th>
      <td>154</td>
      <td>6.0</td>
      <td>2.9</td>
      <td>40.0</td>
      <td>1.7</td>
      <td>Iris-versicolor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default <code class="docutils literal notranslate"><span class="pre">sort_values</span></code> sorts values from smallest to largest, you can change that by setting <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">tail</span></code> is the opposite of <code class="docutils literal notranslate"><span class="pre">head</span></code> and returns the last few rows of a data frame.</p>
</div>
<p>Again, we see the 2nd largest value in the column is only 6.9 cm. It’s likely this is another data entry error (perhaps it was meant to be 4.0 cm), but this type of issue is much more nuanced and difficult to spot in real world scenarios. Visualizing the data (and distributions in the data) can be very helpful here, which is the focus of the next module.</p>
</div>
<div class="section" id="text-and-categorical-columns">
<h3>Text and Categorical Columns<a class="headerlink" href="#text-and-categorical-columns" title="Permalink to this headline">¶</a></h3>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">Species</span></code> column does not appear when we use <code class="docutils literal notranslate"><span class="pre">describe()</span></code> above as it contains text. For both text and numeric columns, it can be helpful to know the number of unique values in each column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Id               156
SepalLengthCm     35
SepalWidthCm      23
PetalLengthCm     44
PetalWidthCm      23
Species            4
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>The numeric columns all have many unique values as expected, and the <code class="docutils literal notranslate"><span class="pre">Species</span></code> class column has four different values. However, from the dataset documentation we only expect there to be three flower species.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">value_counts()</span></code> function, applied to the <code class="docutils literal notranslate"><span class="pre">Species</span></code> column, shows the number of occurrences of the different values in that column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Species&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Iris-versicolor    53
Iris-setosa        52
Iris-virginica     51
UNKNOWN             1
Name: Species, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>The “setosa”, “versicolor”, and “virginica” species described in the documentation all appear, but there’s also an “UNKNOWN” entry. This looks like it should have been treated as a missing value. To make Pandas correctly treat it as missing we can replace it with <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code> using the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.replace.html?highlight=replace#pandas.DataFrame.replace"><code class="docutils literal notranslate"><span class="pre">replace</span></code></a> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Species&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Species&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;UNKNOWN&quot;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Species&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Iris-versicolor    53
Iris-setosa        52
Iris-virginica     51
Name: Species, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> will not display the number of missing values in the column. To show that you can use <code class="docutils literal notranslate"><span class="pre">df[&quot;Species&quot;].value_counts(dropna=False)</span></code> instead. You can also try <code class="docutils literal notranslate"><span class="pre">df[&quot;Species&quot;].value_counts(normalize=True)</span></code> to show the fraction of data with each value, rather than the count.</p>
</div>
<p>We’ll look at more approaches for manipulating strings and categories in section 10 and 11 of this module.</p>
<p>Finally, it may be interesting to look at how the petal and sepal sizes vary between the species. We can do that with the Pandas <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html"><code class="docutils literal notranslate"><span class="pre">groupby</span></code></a> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Species&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
    </tr>
    <tr>
      <th>Species</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Iris-setosa</th>
      <td>30.442308</td>
      <td>5.005769</td>
      <td>3.421154</td>
      <td>1.461538</td>
      <td>0.243137</td>
    </tr>
    <tr>
      <th>Iris-versicolor</th>
      <td>78.075472</td>
      <td>5.967925</td>
      <td>2.783019</td>
      <td>4.956604</td>
      <td>1.336538</td>
    </tr>
    <tr>
      <th>Iris-virginica</th>
      <td>126.000000</td>
      <td>6.588000</td>
      <td>2.982353</td>
      <td>5.541176</td>
      <td>2.084314</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">df.groupby(&quot;Species&quot;)</span></code> splits the date frame into sub-groups with the same value in the “Species” column. We then must specify a function we want to use to summarize the members of each group, in this case the mean. It looks like, on average, “Iris-virginica” has the largest flowers, but “Iris-setosa” has the widest sepals. For more information about using <code class="docutils literal notranslate"><span class="pre">groupby</span></code> see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html">here</a>.</p>
</div>
</div>
<div class="section" id="duplicate-data">
<h2>Duplicate Data<a class="headerlink" href="#duplicate-data" title="Permalink to this headline">¶</a></h2>
<p>In the output of <code class="docutils literal notranslate"><span class="pre">df.unique()</span></code> above we see the <code class="docutils literal notranslate"><span class="pre">Id</span></code> column has 156 unique values, one fewer than the 157 rows in the dataset. We expect <code class="docutils literal notranslate"><span class="pre">Id</span></code> to be a unique identifier, so to have 157 unique values (1 for each row). What’s going on?</p>
<p>One explanation could be that there are duplicate rows in the data. The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.duplicated.html"><code class="docutils literal notranslate"><span class="pre">duplicated</span></code></a> method of a data frame returns True for any rows that appear multiple times in the data (with an exact copy of all values):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      False
1      False
2      False
3      False
4      False
       ...  
152    False
153    False
154    False
155    False
156    False
Length: 157, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>We can use this to filter the data frame and show only the duplicated rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SepalLengthCm</th>
      <th>SepalWidthCm</th>
      <th>PetalLengthCm</th>
      <th>PetalWidthCm</th>
      <th>Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>55</th>
      <td>53</td>
      <td>6.9</td>
      <td>3.1</td>
      <td>4.9</td>
      <td>1.5</td>
      <td>Iris-versicolor</td>
    </tr>
    <tr>
      <th>124</th>
      <td>53</td>
      <td>6.9</td>
      <td>3.1</td>
      <td>4.9</td>
      <td>1.5</td>
      <td>Iris-versicolor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">duplicated</span></code> function only marks the second and subsequent instances of the same data as being duplicates. Setting <code class="docutils literal notranslate"><span class="pre">keep=False</span></code> marks the first instance as a duplicate as well.</p>
</div>
<p>We see there are two entries for the Iris-versicolor with <code class="docutils literal notranslate"><span class="pre">Id</span></code> 53 in the data. Why might that be the case? It could be caused by a data entry/processing issue and be there by mistake, or be a genuine repeated measurement for this flower, for example. It’s important to understand the context before taking any action.</p>
<p>If it’s a data entry error a valid approach may be to delete the duplicate data. This can be done with the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.drop_duplicates.html?highlight=drop_duplicates#pandas.DataFrame.drop_duplicates"><code class="docutils literal notranslate"><span class="pre">drop_duplicates</span></code></a> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length before removing duplicates:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;rows&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length after removing duplicates:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;rows&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Length before removing duplicates: 157 rows
Length after removing duplicates: 156 rows
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="displaying-data-frames-with-style">
<h2>Displaying Data Frames with Style 😎<a class="headerlink" href="#displaying-data-frames-with-style" title="Permalink to this headline">¶</a></h2>
<p>You can get fancy with how you display data frames by highlighting and formatting cells differently using its <code class="docutils literal notranslate"><span class="pre">style</span></code> attribute. There are a few examples below, for more details see the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/style.html#Styler-Object-and-HTML">Table Visualization page in the Pandas documentation</a>.</p>
<p>Change the precision with which numbers are displayed:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_top10</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># just style the first 10 rows for demo purposes here</span>

<span class="c1"># round values to nearest integer (0 decimal places)</span>
<span class="n">df_top10</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
</style>
<table id="T_ba73a_">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >Id</th>
      <th class="col_heading level0 col1" >SepalLengthCm</th>
      <th class="col_heading level0 col2" >SepalWidthCm</th>
      <th class="col_heading level0 col3" >PetalLengthCm</th>
      <th class="col_heading level0 col4" >PetalWidthCm</th>
      <th class="col_heading level0 col5" >Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_ba73a_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_ba73a_row0_col0" class="data row0 col0" >25</td>
      <td id="T_ba73a_row0_col1" class="data row0 col1" >5</td>
      <td id="T_ba73a_row0_col2" class="data row0 col2" >3</td>
      <td id="T_ba73a_row0_col3" class="data row0 col3" >2</td>
      <td id="T_ba73a_row0_col4" class="data row0 col4" >0</td>
      <td id="T_ba73a_row0_col5" class="data row0 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_ba73a_row1_col0" class="data row1 col0" >24</td>
      <td id="T_ba73a_row1_col1" class="data row1 col1" >5</td>
      <td id="T_ba73a_row1_col2" class="data row1 col2" >3</td>
      <td id="T_ba73a_row1_col3" class="data row1 col3" >2</td>
      <td id="T_ba73a_row1_col4" class="data row1 col4" >0</td>
      <td id="T_ba73a_row1_col5" class="data row1 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_ba73a_row2_col0" class="data row2 col0" >139</td>
      <td id="T_ba73a_row2_col1" class="data row2 col1" >6</td>
      <td id="T_ba73a_row2_col2" class="data row2 col2" >3</td>
      <td id="T_ba73a_row2_col3" class="data row2 col3" >5</td>
      <td id="T_ba73a_row2_col4" class="data row2 col4" >2</td>
      <td id="T_ba73a_row2_col5" class="data row2 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_ba73a_row3_col0" class="data row3 col0" >88</td>
      <td id="T_ba73a_row3_col1" class="data row3 col1" >6</td>
      <td id="T_ba73a_row3_col2" class="data row3 col2" >2</td>
      <td id="T_ba73a_row3_col3" class="data row3 col3" >4</td>
      <td id="T_ba73a_row3_col4" class="data row3 col4" >1</td>
      <td id="T_ba73a_row3_col5" class="data row3 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_ba73a_row4_col0" class="data row4 col0" >135</td>
      <td id="T_ba73a_row4_col1" class="data row4 col1" >6</td>
      <td id="T_ba73a_row4_col2" class="data row4 col2" >3</td>
      <td id="T_ba73a_row4_col3" class="data row4 col3" >6</td>
      <td id="T_ba73a_row4_col4" class="data row4 col4" >1</td>
      <td id="T_ba73a_row4_col5" class="data row4 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_ba73a_row5_col0" class="data row5 col0" >87</td>
      <td id="T_ba73a_row5_col1" class="data row5 col1" >7</td>
      <td id="T_ba73a_row5_col2" class="data row5 col2" >3</td>
      <td id="T_ba73a_row5_col3" class="data row5 col3" >5</td>
      <td id="T_ba73a_row5_col4" class="data row5 col4" >2</td>
      <td id="T_ba73a_row5_col5" class="data row5 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_ba73a_row6_col0" class="data row6 col0" >89</td>
      <td id="T_ba73a_row6_col1" class="data row6 col1" >6</td>
      <td id="T_ba73a_row6_col2" class="data row6 col2" >3</td>
      <td id="T_ba73a_row6_col3" class="data row6 col3" >4</td>
      <td id="T_ba73a_row6_col4" class="data row6 col4" >1</td>
      <td id="T_ba73a_row6_col5" class="data row6 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_ba73a_row7_col0" class="data row7 col0" >143</td>
      <td id="T_ba73a_row7_col1" class="data row7 col1" >6</td>
      <td id="T_ba73a_row7_col2" class="data row7 col2" >3</td>
      <td id="T_ba73a_row7_col3" class="data row7 col3" >5</td>
      <td id="T_ba73a_row7_col4" class="data row7 col4" >2</td>
      <td id="T_ba73a_row7_col5" class="data row7 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_ba73a_row8_col0" class="data row8 col0" >117</td>
      <td id="T_ba73a_row8_col1" class="data row8 col1" >6</td>
      <td id="T_ba73a_row8_col2" class="data row8 col2" >3</td>
      <td id="T_ba73a_row8_col3" class="data row8 col3" >6</td>
      <td id="T_ba73a_row8_col4" class="data row8 col4" >2</td>
      <td id="T_ba73a_row8_col5" class="data row8 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_ba73a_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_ba73a_row9_col0" class="data row9 col0" >109</td>
      <td id="T_ba73a_row9_col1" class="data row9 col1" >7</td>
      <td id="T_ba73a_row9_col2" class="data row9 col2" >2</td>
      <td id="T_ba73a_row9_col3" class="data row9 col3" >6</td>
      <td id="T_ba73a_row9_col4" class="data row9 col4" >2</td>
      <td id="T_ba73a_row9_col5" class="data row9 col5" >Iris-virginica</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Apply a colour gradient to each column based on each cell’s value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_top10</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_a0eb6_row0_col0 {
  background-color: #fef6fa;
  color: #000000;
}
#T_a0eb6_row0_col1, #T_a0eb6_row0_col4, #T_a0eb6_row1_col0, #T_a0eb6_row1_col3, #T_a0eb6_row3_col2 {
  background-color: #fff7fb;
  color: #000000;
}
#T_a0eb6_row0_col2, #T_a0eb6_row5_col1, #T_a0eb6_row7_col0, #T_a0eb6_row7_col4, #T_a0eb6_row9_col1, #T_a0eb6_row9_col3 {
  background-color: #023858;
  color: #f1f1f1;
}
#T_a0eb6_row0_col3 {
  background-color: #f8f1f8;
  color: #000000;
}
#T_a0eb6_row1_col1 {
  background-color: #e5e1ef;
  color: #000000;
}
#T_a0eb6_row1_col2 {
  background-color: #03517e;
  color: #f1f1f1;
}
#T_a0eb6_row1_col4 {
  background-color: #e0deed;
  color: #000000;
}
#T_a0eb6_row2_col0 {
  background-color: #034165;
  color: #f1f1f1;
}
#T_a0eb6_row2_col1 {
  background-color: #348ebf;
  color: #f1f1f1;
}
#T_a0eb6_row2_col2, #T_a0eb6_row6_col2, #T_a0eb6_row8_col2 {
  background-color: #328dbf;
  color: #f1f1f1;
}
#T_a0eb6_row2_col3 {
  background-color: #056fae;
  color: #f1f1f1;
}
#T_a0eb6_row2_col4, #T_a0eb6_row8_col4, #T_a0eb6_row9_col4 {
  background-color: #034871;
  color: #f1f1f1;
}
#T_a0eb6_row3_col0 {
  background-color: #62a2cb;
  color: #f1f1f1;
}
#T_a0eb6_row3_col1 {
  background-color: #0569a4;
  color: #f1f1f1;
}
#T_a0eb6_row3_col3 {
  background-color: #2987bc;
  color: #f1f1f1;
}
#T_a0eb6_row3_col4, #T_a0eb6_row6_col4 {
  background-color: #2d8abd;
  color: #f1f1f1;
}
#T_a0eb6_row4_col0 {
  background-color: #034a74;
  color: #f1f1f1;
}
#T_a0eb6_row4_col1 {
  background-color: #1e80b8;
  color: #f1f1f1;
}
#T_a0eb6_row4_col2 {
  background-color: #c9cee4;
  color: #000000;
}
#T_a0eb6_row4_col3 {
  background-color: #03456c;
  color: #f1f1f1;
}
#T_a0eb6_row4_col4 {
  background-color: #167bb6;
  color: #f1f1f1;
}
#T_a0eb6_row5_col0 {
  background-color: #65a3cb;
  color: #f1f1f1;
}
#T_a0eb6_row5_col2 {
  background-color: #0d75b3;
  color: #f1f1f1;
}
#T_a0eb6_row5_col3 {
  background-color: #0c74b2;
  color: #f1f1f1;
}
#T_a0eb6_row5_col4 {
  background-color: #056dac;
  color: #f1f1f1;
}
#T_a0eb6_row6_col0 {
  background-color: #5ea0ca;
  color: #f1f1f1;
}
#T_a0eb6_row6_col1 {
  background-color: #94b6d7;
  color: #000000;
}
#T_a0eb6_row6_col3 {
  background-color: #4a98c5;
  color: #f1f1f1;
}
#T_a0eb6_row7_col1 {
  background-color: #67a4cc;
  color: #f1f1f1;
}
#T_a0eb6_row7_col2 {
  background-color: #a9bfdc;
  color: #000000;
}
#T_a0eb6_row7_col3 {
  background-color: #046299;
  color: #f1f1f1;
}
#T_a0eb6_row8_col0 {
  background-color: #056aa6;
  color: #f1f1f1;
}
#T_a0eb6_row8_col1 {
  background-color: #045483;
  color: #f1f1f1;
}
#T_a0eb6_row8_col3 {
  background-color: #034b76;
  color: #f1f1f1;
}
#T_a0eb6_row9_col0 {
  background-color: #1379b5;
  color: #f1f1f1;
}
#T_a0eb6_row9_col2 {
  background-color: #e0dded;
  color: #000000;
}
</style>
<table id="T_a0eb6_">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >Id</th>
      <th class="col_heading level0 col1" >SepalLengthCm</th>
      <th class="col_heading level0 col2" >SepalWidthCm</th>
      <th class="col_heading level0 col3" >PetalLengthCm</th>
      <th class="col_heading level0 col4" >PetalWidthCm</th>
      <th class="col_heading level0 col5" >Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a0eb6_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_a0eb6_row0_col0" class="data row0 col0" >25</td>
      <td id="T_a0eb6_row0_col1" class="data row0 col1" >4.800000</td>
      <td id="T_a0eb6_row0_col2" class="data row0 col2" >3.400000</td>
      <td id="T_a0eb6_row0_col3" class="data row0 col3" >1.900000</td>
      <td id="T_a0eb6_row0_col4" class="data row0 col4" >0.200000</td>
      <td id="T_a0eb6_row0_col5" class="data row0 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_a0eb6_row1_col0" class="data row1 col0" >24</td>
      <td id="T_a0eb6_row1_col1" class="data row1 col1" >5.100000</td>
      <td id="T_a0eb6_row1_col2" class="data row1 col2" >3.300000</td>
      <td id="T_a0eb6_row1_col3" class="data row1 col3" >1.700000</td>
      <td id="T_a0eb6_row1_col4" class="data row1 col4" >0.500000</td>
      <td id="T_a0eb6_row1_col5" class="data row1 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_a0eb6_row2_col0" class="data row2 col0" >139</td>
      <td id="T_a0eb6_row2_col1" class="data row2 col1" >6.000000</td>
      <td id="T_a0eb6_row2_col2" class="data row2 col2" >3.000000</td>
      <td id="T_a0eb6_row2_col3" class="data row2 col3" >4.800000</td>
      <td id="T_a0eb6_row2_col4" class="data row2 col4" >1.800000</td>
      <td id="T_a0eb6_row2_col5" class="data row2 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_a0eb6_row3_col0" class="data row3 col0" >88</td>
      <td id="T_a0eb6_row3_col1" class="data row3 col1" >6.300000</td>
      <td id="T_a0eb6_row3_col2" class="data row3 col2" >2.300000</td>
      <td id="T_a0eb6_row3_col3" class="data row3 col3" >4.400000</td>
      <td id="T_a0eb6_row3_col4" class="data row3 col4" >1.300000</td>
      <td id="T_a0eb6_row3_col5" class="data row3 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_a0eb6_row4_col0" class="data row4 col0" >135</td>
      <td id="T_a0eb6_row4_col1" class="data row4 col1" >6.100000</td>
      <td id="T_a0eb6_row4_col2" class="data row4 col2" >2.600000</td>
      <td id="T_a0eb6_row4_col3" class="data row4 col3" >5.600000</td>
      <td id="T_a0eb6_row4_col4" class="data row4 col4" >1.400000</td>
      <td id="T_a0eb6_row4_col5" class="data row4 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_a0eb6_row5_col0" class="data row5 col0" >87</td>
      <td id="T_a0eb6_row5_col1" class="data row5 col1" >6.700000</td>
      <td id="T_a0eb6_row5_col2" class="data row5 col2" >3.100000</td>
      <td id="T_a0eb6_row5_col3" class="data row5 col3" >4.700000</td>
      <td id="T_a0eb6_row5_col4" class="data row5 col4" >1.500000</td>
      <td id="T_a0eb6_row5_col5" class="data row5 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_a0eb6_row6_col0" class="data row6 col0" >89</td>
      <td id="T_a0eb6_row6_col1" class="data row6 col1" >5.600000</td>
      <td id="T_a0eb6_row6_col2" class="data row6 col2" >3.000000</td>
      <td id="T_a0eb6_row6_col3" class="data row6 col3" >4.100000</td>
      <td id="T_a0eb6_row6_col4" class="data row6 col4" >1.300000</td>
      <td id="T_a0eb6_row6_col5" class="data row6 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_a0eb6_row7_col0" class="data row7 col0" >143</td>
      <td id="T_a0eb6_row7_col1" class="data row7 col1" >5.800000</td>
      <td id="T_a0eb6_row7_col2" class="data row7 col2" >2.700000</td>
      <td id="T_a0eb6_row7_col3" class="data row7 col3" >5.100000</td>
      <td id="T_a0eb6_row7_col4" class="data row7 col4" >1.900000</td>
      <td id="T_a0eb6_row7_col5" class="data row7 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_a0eb6_row8_col0" class="data row8 col0" >117</td>
      <td id="T_a0eb6_row8_col1" class="data row8 col1" >6.500000</td>
      <td id="T_a0eb6_row8_col2" class="data row8 col2" >3.000000</td>
      <td id="T_a0eb6_row8_col3" class="data row8 col3" >5.500000</td>
      <td id="T_a0eb6_row8_col4" class="data row8 col4" >1.800000</td>
      <td id="T_a0eb6_row8_col5" class="data row8 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_a0eb6_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_a0eb6_row9_col0" class="data row9 col0" >109</td>
      <td id="T_a0eb6_row9_col1" class="data row9 col1" >6.700000</td>
      <td id="T_a0eb6_row9_col2" class="data row9 col2" >2.500000</td>
      <td id="T_a0eb6_row9_col3" class="data row9 col3" >5.800000</td>
      <td id="T_a0eb6_row9_col4" class="data row9 col4" >1.800000</td>
      <td id="T_a0eb6_row9_col5" class="data row9 col5" >Iris-virginica</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Highlight the smallest value in each column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_top10</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">highlight_min</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_9092a_row0_col1, #T_9092a_row0_col4, #T_9092a_row0_col5, #T_9092a_row1_col0, #T_9092a_row1_col3, #T_9092a_row1_col5, #T_9092a_row3_col2 {
  background-color: yellow;
}
</style>
<table id="T_9092a_">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >Id</th>
      <th class="col_heading level0 col1" >SepalLengthCm</th>
      <th class="col_heading level0 col2" >SepalWidthCm</th>
      <th class="col_heading level0 col3" >PetalLengthCm</th>
      <th class="col_heading level0 col4" >PetalWidthCm</th>
      <th class="col_heading level0 col5" >Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_9092a_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_9092a_row0_col0" class="data row0 col0" >25</td>
      <td id="T_9092a_row0_col1" class="data row0 col1" >4.800000</td>
      <td id="T_9092a_row0_col2" class="data row0 col2" >3.400000</td>
      <td id="T_9092a_row0_col3" class="data row0 col3" >1.900000</td>
      <td id="T_9092a_row0_col4" class="data row0 col4" >0.200000</td>
      <td id="T_9092a_row0_col5" class="data row0 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_9092a_row1_col0" class="data row1 col0" >24</td>
      <td id="T_9092a_row1_col1" class="data row1 col1" >5.100000</td>
      <td id="T_9092a_row1_col2" class="data row1 col2" >3.300000</td>
      <td id="T_9092a_row1_col3" class="data row1 col3" >1.700000</td>
      <td id="T_9092a_row1_col4" class="data row1 col4" >0.500000</td>
      <td id="T_9092a_row1_col5" class="data row1 col5" >Iris-setosa</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_9092a_row2_col0" class="data row2 col0" >139</td>
      <td id="T_9092a_row2_col1" class="data row2 col1" >6.000000</td>
      <td id="T_9092a_row2_col2" class="data row2 col2" >3.000000</td>
      <td id="T_9092a_row2_col3" class="data row2 col3" >4.800000</td>
      <td id="T_9092a_row2_col4" class="data row2 col4" >1.800000</td>
      <td id="T_9092a_row2_col5" class="data row2 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_9092a_row3_col0" class="data row3 col0" >88</td>
      <td id="T_9092a_row3_col1" class="data row3 col1" >6.300000</td>
      <td id="T_9092a_row3_col2" class="data row3 col2" >2.300000</td>
      <td id="T_9092a_row3_col3" class="data row3 col3" >4.400000</td>
      <td id="T_9092a_row3_col4" class="data row3 col4" >1.300000</td>
      <td id="T_9092a_row3_col5" class="data row3 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_9092a_row4_col0" class="data row4 col0" >135</td>
      <td id="T_9092a_row4_col1" class="data row4 col1" >6.100000</td>
      <td id="T_9092a_row4_col2" class="data row4 col2" >2.600000</td>
      <td id="T_9092a_row4_col3" class="data row4 col3" >5.600000</td>
      <td id="T_9092a_row4_col4" class="data row4 col4" >1.400000</td>
      <td id="T_9092a_row4_col5" class="data row4 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_9092a_row5_col0" class="data row5 col0" >87</td>
      <td id="T_9092a_row5_col1" class="data row5 col1" >6.700000</td>
      <td id="T_9092a_row5_col2" class="data row5 col2" >3.100000</td>
      <td id="T_9092a_row5_col3" class="data row5 col3" >4.700000</td>
      <td id="T_9092a_row5_col4" class="data row5 col4" >1.500000</td>
      <td id="T_9092a_row5_col5" class="data row5 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_9092a_row6_col0" class="data row6 col0" >89</td>
      <td id="T_9092a_row6_col1" class="data row6 col1" >5.600000</td>
      <td id="T_9092a_row6_col2" class="data row6 col2" >3.000000</td>
      <td id="T_9092a_row6_col3" class="data row6 col3" >4.100000</td>
      <td id="T_9092a_row6_col4" class="data row6 col4" >1.300000</td>
      <td id="T_9092a_row6_col5" class="data row6 col5" >Iris-versicolor</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_9092a_row7_col0" class="data row7 col0" >143</td>
      <td id="T_9092a_row7_col1" class="data row7 col1" >5.800000</td>
      <td id="T_9092a_row7_col2" class="data row7 col2" >2.700000</td>
      <td id="T_9092a_row7_col3" class="data row7 col3" >5.100000</td>
      <td id="T_9092a_row7_col4" class="data row7 col4" >1.900000</td>
      <td id="T_9092a_row7_col5" class="data row7 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_9092a_row8_col0" class="data row8 col0" >117</td>
      <td id="T_9092a_row8_col1" class="data row8 col1" >6.500000</td>
      <td id="T_9092a_row8_col2" class="data row8 col2" >3.000000</td>
      <td id="T_9092a_row8_col3" class="data row8 col3" >5.500000</td>
      <td id="T_9092a_row8_col4" class="data row8 col4" >1.800000</td>
      <td id="T_9092a_row8_col5" class="data row8 col5" >Iris-virginica</td>
    </tr>
    <tr>
      <th id="T_9092a_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_9092a_row9_col0" class="data row9 col0" >109</td>
      <td id="T_9092a_row9_col1" class="data row9 col1" >6.700000</td>
      <td id="T_9092a_row9_col2" class="data row9 col2" >2.500000</td>
      <td id="T_9092a_row9_col3" class="data row9 col3" >5.800000</td>
      <td id="T_9092a_row9_col4" class="data row9 col4" >1.800000</td>
      <td id="T_9092a_row9_col5" class="data row9 col5" >Iris-virginica</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "alan-turing-institute/rds-course# Online location of your book",
            ref: "book",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./modules/m2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="2-02-ExploringWrangling.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">2.2 Exploring and Wrangling Data</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="2-02-02-ModifyingColumnsAndIndices.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">2.2.2 Modifying Columns and Indices</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Research Engineering Group, The Alan Turing Institute<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>